import{j as e}from"./vendor-ui-BNn_Rh50.js";import{L as n}from"./vendor-react-rxBb_eoi.js";import{b as o,F as c,c as l}from"./MobileNav-CwA-rG_Z.js";import{c as N,u as v,a as d}from"./index-Dj-cGOYe.js";import{f as m}from"./order-DUcZEf7V.js";import{m as r}from"./vendor-motion-KP1LyvFg.js";import{P as w}from"./package-BaOx5pL7.js";import{C}from"./chevron-right-DgfYu9aI.js";import{T as k}from"./trash-2-h0198ZwO.js";import{C as x}from"./clock-B08S9fHg.js";import{S as D}from"./shopping-bag-CmxyYzAx.js";import{C as M}from"./circle-x-OPrjb26C.js";import{C as H}from"./circle-check-big-BfuckHN9.js";import"./vendor-utils--BulIq_u.js";import"./vendor-query-DhOFERaQ.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=N("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);function X(){const{orderHistory:i,clearOrderHistory:u,reorderFromHistory:L,addItem:p}=v(),h=s=>{s.items.forEach(t=>{p({id:`combo-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"combo",mainDishes:t.mainDishes,sauce:t.sauce,sideDish:t.sideDish,extras:t.extras,quantity:t.quantity,totalPrice:t.totalPrice})}),d.success("Items added to cart!")},f=s=>new Date(s).toLocaleDateString("en-UG",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=s=>{switch(s){case"completed":return"text-green-600 bg-green-100";case"cancelled":return"text-red-600 bg-red-100";case"pending":default:return"text-yellow-600 bg-yellow-100"}},j=s=>{switch(s){case"completed":return H;case"cancelled":return M;case"pending":default:return x}};return i.length===0?e.jsxs("div",{className:"min-h-screen bg-background pb-20 lg:pb-0",children:[e.jsx(o,{}),e.jsx("main",{className:"pt-20 md:pt-24",children:e.jsx("div",{className:"container-custom section-padding text-center",children:e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md mx-auto",children:[e.jsx("div",{className:"w-24 h-24 bg-muted rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(w,{className:"w-12 h-12 text-muted-foreground"})}),e.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"No Orders Yet"}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"Your order history will appear here after you place your first order."}),e.jsxs(n,{to:"/menu",className:"btn-secondary inline-flex items-center gap-2",children:["Browse Menu",e.jsx(C,{className:"w-5 h-5"})]})]})})}),e.jsx(c,{}),e.jsx(l,{})]}):e.jsxs("div",{className:"min-h-screen bg-background pb-20 lg:pb-0",children:[e.jsx(o,{}),e.jsx("main",{className:"pt-20 md:pt-24",children:e.jsxs("div",{className:"container-custom section-padding",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx(r.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-2xl md:text-3xl font-bold text-foreground",children:"Order History"}),e.jsxs(r.button,{initial:{opacity:0},animate:{opacity:1},onClick:()=>{confirm("Are you sure you want to clear all order history?")&&(u(),d.success("Order history cleared"))},className:"text-sm text-muted-foreground hover:text-destructive transition-colors flex items-center gap-1",children:[e.jsx(k,{className:"w-4 h-4"}),"Clear History"]})]}),e.jsx("div",{className:"space-y-4",children:i.map((s,t)=>{const g=j(s.status);return e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1},className:"card-premium p-4 md:p-6",children:[e.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4 mb-4 pb-4 border-b border-border",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-bold text-foreground font-mono",children:s.orderId}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${y(s.status)}`,children:[e.jsx(g,{className:"w-3 h-3"}),s.status.charAt(0).toUpperCase()+s.status.slice(1)]})]}),e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(x,{className:"w-3 h-3"}),f(s.orderDate)]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold text-secondary",children:m(s.total)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.paymentMethod==="online"?"Paid Online":"Cash on Delivery"})]})]}),e.jsx("div",{className:"space-y-2 mb-4",children:s.items.map((a,b)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-foreground",children:[a.quantity,"x ",a.mainDishes.join(" + ")," + ",a.sauce?.name]}),e.jsx("span",{className:"text-muted-foreground",children:m(a.totalPrice*a.quantity)})]},b))}),e.jsx("div",{className:"text-sm text-muted-foreground mb-4",children:e.jsxs("p",{children:[e.jsx("strong",{className:"text-foreground",children:"Delivered to:"})," ",s.deliveryLocation]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>h(s),className:"btn-secondary text-sm py-2 px-4 flex items-center gap-2",children:[e.jsx(I,{className:"w-4 h-4"}),"Reorder"]}),e.jsxs(n,{to:"/menu",className:"btn-outline text-sm py-2 px-4 flex items-center gap-2",children:[e.jsx(D,{className:"w-4 h-4"}),"View Menu"]})]})]},s.orderId)})})]})}),e.jsx(c,{}),e.jsx(l,{})]})}export{X as default};
