import{j as e}from"./vendor-ui-BpRL19BI.js";import{L as n}from"./vendor-react-DVonbC-y.js";import{b as c,F as o,c as i}from"./MobileNav-BZwr6749.js";import{c as b,u as N,a as l}from"./index-BkcfDFjo.js";import{f as d}from"./order-B1c-D1lh.js";import{P as y}from"./package-Dki87KZK.js";import{C as v}from"./chevron-right-BU5hB23-.js";import{T as w}from"./trash-2-BNeip_QV.js";import{C as m}from"./clock-BI1W87i7.js";import{S as C}from"./shopping-bag-DxEXXAuz.js";import{C as k}from"./circle-x-CXanW82A.js";import{C as D}from"./circle-check-big-CkiYa98y.js";import"./vendor-utils--BulIq_u.js";import"./vendor-query-CTx6GrSf.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=b("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);function Y(){const{orderHistory:r,clearOrderHistory:x,reorderFromHistory:H,addItem:u}=N(),h=s=>{s.items.forEach(t=>{u({id:`combo-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"combo",mainDishes:t.mainDishes,sauce:t.sauce,sideDish:t.sideDish,extras:t.extras,quantity:t.quantity,totalPrice:t.totalPrice})}),l.success("Items added to cart!")},p=s=>new Date(s).toLocaleDateString("en-UG",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),f=s=>{switch(s){case"completed":return"text-green-600 bg-green-100";case"cancelled":return"text-red-600 bg-red-100";case"pending":default:return"text-yellow-600 bg-yellow-100"}},j=s=>{switch(s){case"completed":return D;case"cancelled":return k;case"pending":default:return m}};return r.length===0?e.jsxs("div",{className:"min-h-screen bg-background pb-20 lg:pb-0",children:[e.jsx(c,{}),e.jsx("main",{className:"pt-16 md:pt-20",children:e.jsx("div",{className:"container-custom section-padding text-center",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"w-24 h-24 bg-muted rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(y,{className:"w-12 h-12 text-muted-foreground"})}),e.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"No Orders Yet"}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"Your order history will appear here after you place your first order."}),e.jsxs(n,{to:"/menu",className:"btn-secondary inline-flex items-center gap-2",children:["Browse Menu",e.jsx(v,{className:"w-5 h-5"})]})]})})}),e.jsx(o,{}),e.jsx(i,{})]}):e.jsxs("div",{className:"min-h-screen bg-background pb-20 lg:pb-0",children:[e.jsx(c,{}),e.jsx("main",{className:"pt-16 md:pt-20",children:e.jsxs("div",{className:"container-custom section-padding",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-foreground",children:"Order History"}),e.jsxs("button",{onClick:()=>{confirm("Are you sure you want to clear all order history?")&&(x(),l.success("Order history cleared"))},className:"text-sm text-muted-foreground hover:text-destructive transition-colors flex items-center gap-1",children:[e.jsx(w,{className:"w-4 h-4"}),"Clear History"]})]}),e.jsx("div",{className:"space-y-4",children:r.map(s=>{const t=j(s.status);return e.jsxs("div",{className:"card-premium p-4 md:p-6",children:[e.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4 mb-4 pb-4 border-b border-border",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-bold text-foreground font-mono",children:s.orderId}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${f(s.status)}`,children:[e.jsx(t,{className:"w-3 h-3"}),s.status.charAt(0).toUpperCase()+s.status.slice(1)]})]}),e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(m,{className:"w-3 h-3"}),p(s.orderDate)]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold text-secondary",children:d(s.total)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.paymentMethod==="online"?"Paid Online":"Cash on Delivery"})]})]}),e.jsx("div",{className:"space-y-2 mb-4",children:s.items.map((a,g)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-foreground",children:[a.quantity,"x ",a.mainDishes.join(" + ")," + ",a.sauce?.name]}),e.jsx("span",{className:"text-muted-foreground",children:d(a.totalPrice*a.quantity)})]},g))}),e.jsx("div",{className:"text-sm text-muted-foreground mb-4",children:e.jsxs("p",{children:[e.jsx("strong",{className:"text-foreground",children:"Delivered to:"})," ",s.deliveryLocation]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>h(s),className:"btn-secondary text-sm py-2 px-4 flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4"}),"Reorder"]}),e.jsxs(n,{to:"/menu",className:"btn-outline text-sm py-2 px-4 flex items-center gap-2",children:[e.jsx(C,{className:"w-4 h-4"}),"View Menu"]})]})]},s.orderId)})})]})}),e.jsx(o,{}),e.jsx(i,{})]})}export{Y as default};
